(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{474:function(t,e,o){var content=o(497);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(22).default)("db12013a",content,!0,{sourceMap:!1})},496:function(t,e,o){"use strict";o(474)},497:function(t,e,o){var r=o(21)((function(i){return i[1]}));r.push([t.i,"p[data-v-090f31b8]{margin-bottom:.2rem}",""]),r.locals={},t.exports=r},506:function(t,e,o){"use strict";o.r(e);var r,l=o(508),n=o(203),d=o(200),m=o(73),c=o(507),v=o(466),_=o(471),F=o(504),h=o(199),C=o(308),f=o(202),L=o(465),V=o(505),k=o(502),I=o(503),y=(o(27),o(26)),A=(o(84),o(28),o(64),o(23),o(48),function(t){var e=!0,o="",r=parseFloat(t.replace(",","."));return isNaN(r)&&(e=!1,o="Insira uma coordenada numérica."),r<-90&&(e=!1,o="A latitude não pode ser menor do que -90"),r>90&&(e=!1,o="A latitude não pode ser maior do que 90"),{state:e,message:o,valueClear:e?r:null}}),w=function(t){var e=!0,o="",r=parseFloat(t.replace(",","."));return isNaN(r)&&(e=!1,o="Insira uma coordenada numérica."),r<-180&&(e=!1,o="A longitude não pode ser menor do que -180"),r>180&&(e=!1,o="A longitude não pode ser maior do que 180"),{state:e,message:o,valueClear:e?r:null}},x=function(t){var e=!0,o="",r=parseFloat(t.replace(",","."));return isNaN(r)&&(e=!1,o="Insira um valor numérico."),r<=0&&(e=!1,o="Insira um valor maior que zero."),{state:e,message:o,valueClear:e?r:null}},S={name:"Index",data:function(){return{displayAlert:!1,alertTimeout:100,alertTimeoutIntervId:null,alertColor:"success",messageAlert:"Aguardando menssagem...",dados_viajem:{distancia:"dist",vias_da_rota:"vias_da_rota",consumo_total_de_combustivel:"consumo_total_de_combustivel"},dataFormIsValid:!1,dataForm:{origemLatitude:{value:"",mess:"",status:null},origemLongitude:{value:"",mess:"",status:null},destinoLatitude:{value:"",mess:"",status:null},destinoLongitude:{value:"",mess:"",status:null},mediaConsumoVeiculo:{value:"",mess:"",status:null},idaEVolta:{value:!1,mess:"",status:null}},dataFormDefault:{origemLatitude:{value:"",mess:"",status:null},origemLongitude:{value:"",mess:"",status:null},destinoLatitude:{value:"",mess:"",status:null},destinoLongitude:{value:"",mess:"",status:null},mediaConsumoVeiculo:{value:"",mess:"",status:null},idaEVolta:{value:!1,mess:"",status:null}},showRelatorioViagem:!1,relatorioViagem:{consumo_total_de_combustivel:"",distancia_km:"",vias_da_rota:[],ida_e_volta:null,geometry:""},dataFormSnakeCase:{origem_latitude:null,origem_longitude:null,destino_latitude:null,destino_longitude:null,media_consumo_veiculo:null,ida_e_volta:!1},imageUrl:"initial-map.png"}},methods:{attribImageInit:function(){this.imageUrl="initial-map.png"},getUrlBackend:function(){return"https://match-calc-combustivel.vercel.app"},changeUrlImagemDestino:function(){var t=this.getUrlBackend(),e="origem_longitude=".concat(this.dataFormSnakeCase.origem_longitude),o="origem_latitude=".concat(this.dataFormSnakeCase.origem_latitude),r="destino_latitude=".concat(this.dataFormSnakeCase.destino_latitude),l="destino_longitude=".concat(this.dataFormSnakeCase.destino_longitude),n="geometry=".concat(this.relatorioViagem.geometry);this.imageUrl="".concat(t,"/destino_imagem?").concat(n,"&").concat(e,"&").concat(o,"&").concat(r,"&").concat(l)},submeterFormViagem:(r=Object(y.a)(regeneratorRuntime.mark((function t(){var e,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.attribImageInit(),e=this.getUrlBackend(),t.next=5,this.$axios.post(e+"/viagem",this.dataFormSnakeCase).then((function(t){200===t.status&&(o.relatorioViagem=t.data,o.showRelatorioViagem=!0,o.messageAlert="Relatório de Viagem recebido com sucesso.",o.alertColor="success",o.showAlert(),o.changeUrlImagemDestino())})).catch((function(t){console.log(t),t.response.data.detail?o.messageAlert=t.response.data.detail:t.response?o.messageAlert="Erro ".concat(t.response.status):o.messageAlert=t,o.alertColor="error",o.showAlert()}));case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)}),resetarForm:function(){this.dataForm=Object.assign({},this.dataFormDefault)},showAlert:function(){this.displayAlert=!0},validarForm:function(){return this.dataForm.origemLatitude.status&&this.dataForm.origemLongitude.status&&this.dataForm.destinoLatitude.status&&this.dataForm.destinoLongitude.status&&this.dataForm.mediaConsumoVeiculo.status},validarField:function(t,e,o,r){var l=e(t);return o.status=l.state,o.mess=l.message,this.dataFormIsValid=this.validarForm(),l},alertRunTimeout:function(t){var e=this,o=t/30;this.alertTimeoutIntervId||(this.alertTimeoutIntervId=setInterval((function(){e.alertTimeout=e.alertTimeout-3.3333333333333335}),o))},alertClose:function(){this.displayAlert=!1,clearInterval(this.alertTimeoutIntervId),this.alertTimeoutIntervId=null}},watch:{displayAlert:function(t){var e=this;t&&(this.alertRunTimeout(4e3),setTimeout((function(){e.alertClose()}),4e3))},"dataForm.origemLatitude.value":function(t){var e=this.validarField(t,A,this.dataForm.origemLatitude);this.dataFormSnakeCase.origem_latitude=e.valueClear},"dataForm.origemLongitude.value":function(t){var e=this.validarField(t,w,this.dataForm.origemLongitude);this.dataFormSnakeCase.origem_longitude=e.valueClear},"dataForm.destinoLatitude.value":function(t){var e=this.validarField(t,A,this.dataForm.destinoLatitude);this.dataFormSnakeCase.destino_latitude=e.valueClear},"dataForm.destinoLongitude.value":function(t){var e=this.validarField(t,w,this.dataForm.destinoLongitude);this.dataFormSnakeCase.destino_longitude=e.valueClear},"dataForm.mediaConsumoVeiculo.value":function(t){var e=this.validarField(t,x,this.dataForm.mediaConsumoVeiculo);this.dataFormSnakeCase.media_consumo_veiculo=e.valueClear},"dataForm.idaEVolta.value":function(t){this.dataFormSnakeCase.ida_e_volta=t}}},T=S,E=(o(496),o(46)),component=Object(E.a)(T,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100"},[e(_.a,{staticStyle:{"max-width":"1185px"}},[e(l.a,{attrs:{value:t.displayAlert,dismissible:"",color:t.alertColor,text:"",outlined:"",dense:""}},[t._v("\n      "+t._s(t.messageAlert)+"\n  "),e(f.a,{attrs:{color:"grey",value:t.alertTimeout,reverse:""}})],1),t._v(" "),e(L.a,{staticClass:"g-5"},[e(v.a,{attrs:{sm:"12",md:"5"}},[e(d.a,[t.showRelatorioViagem?e("div",[e(m.b,{attrs:{"data-cy":"reportCard"}},[t.relatorioViagem.ida_e_volta?e("h2",{staticClass:"mb-3"},[t._v("Para a viagem de ida e volta temos:")]):e("h2",{staticClass:"mb-3"},[t._v("Para apenas a viagem de ida:")]),t._v(" "),e("h3",{staticClass:"mb-1"},[e("b",[t._v("Combustível necessário:")]),t._v(" "+t._s(t.relatorioViagem.consumo_total_de_combustivel)+" litros")]),t._v(" "),e("p",[e("b",[t._v("Distância:")]),t._v(" "+t._s(t.relatorioViagem.distancia_km)+" Km")]),t._v(" "),e("p",[e("b",[t._v("Principais vias da rota:")])]),t._v(" "),e(k.a,{attrs:{"align-top":"",dense:""}},t._l(t.relatorioViagem.vias_da_rota,(function(o,r){return e(I.a,{key:r,attrs:{small:"",color:"origem"===o.type?"pink":"destino"===o.type?"green":"blue"}},[e(L.a,{staticClass:"pt-1"},[e(v.a,[t._v(t._s(o.name))])],1)],1)})),1)],1)],1):e(m.b,{staticClass:"card-text"},[t._v("\n            Calcula a quantidade de combustível necessária para percorrer uma determinada distância\n            entre dois pontos, levando em consideração o consumo estimado do veículo.\n          ")]),t._v(" "),e(C.a,{attrs:{width:"470",height:"300",src:t.imageUrl}})],1)],1),t._v(" "),e(v.a,{attrs:{sm:"12",md:"7"}},[e("h4",{staticClass:"mb-3"},[t._v("Informe os dados da viagem")]),t._v(" "),e(F.a,{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submeterFormViagem.apply(null,arguments)},reset:t.resetarForm}},[e(L.a,{attrs:{dense:""}},[e(v.a,{staticClass:"col-12 col-md-12 col-lg-4"},[e("label",{attrs:{for:"origemLatitude"}},[t._v("Coordenadas da origem:")])]),t._v(" "),e(v.a,{staticClass:"col-12 col-md-6 col-lg-4"},[e(V.a,{attrs:{label:"Latitude da Origem",id:"origemLatitude",dense:"","error-messages":t.dataForm.origemLatitude.mess,error:t.dataForm.origemLatitude.state},model:{value:t.dataForm.origemLatitude.value,callback:function(e){t.$set(t.dataForm.origemLatitude,"value",e)},expression:"dataForm.origemLatitude.value"}})],1),t._v(" "),e(v.a,{staticClass:"col-12 col-md-6 col-lg-4"},[e(V.a,{attrs:{label:"Longitude da Origem",id:"origemLongitude",dense:"","error-messages":t.dataForm.origemLongitude.mess,error:t.dataForm.origemLongitude.state},model:{value:t.dataForm.origemLongitude.value,callback:function(e){t.$set(t.dataForm.origemLongitude,"value",e)},expression:"dataForm.origemLongitude.value"}})],1)],1),t._v(" "),e(L.a,{attrs:{dense:""}},[e(v.a,{staticClass:"col-12 col-md-12 col-lg-4"},[e("label",{attrs:{for:"destinoLatitude"}},[t._v("Coordenadas do destino:")])]),t._v(" "),e(v.a,{staticClass:"col-12 col-md-6 col-lg-4"},[e(V.a,{attrs:{label:"Latitude do Destino",id:"destinoLatitude",dense:"","error-messages":t.dataForm.destinoLatitude.mess,error:t.dataForm.destinoLatitude.state},model:{value:t.dataForm.destinoLatitude.value,callback:function(e){t.$set(t.dataForm.destinoLatitude,"value",e)},expression:"dataForm.destinoLatitude.value"}})],1),t._v(" "),e(v.a,{staticClass:"col-12 col-md-6 col-lg-4"},[e(V.a,{attrs:{label:"Longitude do Destino",id:"destinoLongitude",dense:"","error-messages":t.dataForm.destinoLongitude.mess,error:t.dataForm.destinoLongitude.state},model:{value:t.dataForm.destinoLongitude.value,callback:function(e){t.$set(t.dataForm.destinoLongitude,"value",e)},expression:"dataForm.destinoLongitude.value"}})],1)],1),t._v(" "),e(L.a,{attrs:{dense:""}},[e(v.a,{staticClass:"col-12 col-sm-12 col-md-6"},[e("label",{attrs:{for:"mediaConsumoVeiculo"}},[t._v("Média de consumo do veículo:")]),t._v(" "),e(V.a,{attrs:{id:"mediaConsumoVeiculo",dense:"",type:"number","error-messages":t.dataForm.mediaConsumoVeiculo.mess,error:t.dataForm.mediaConsumoVeiculo.state},model:{value:t.dataForm.mediaConsumoVeiculo.value,callback:function(e){t.$set(t.dataForm.mediaConsumoVeiculo,"value",e)},expression:"dataForm.mediaConsumoVeiculo.value"}})],1),t._v(" "),e(v.a,{staticClass:"col-12 col-sm-12 col-md-4"},[e(c.a,{attrs:{id:"idaEVolta",label:"Calcular ida e volta"},model:{value:t.dataForm.idaEVolta.value,callback:function(e){t.$set(t.dataForm.idaEVolta,"value",e)},expression:"dataForm.idaEVolta.value"}}),t._v(" "),e("input",{attrs:{type:"hidden","data-cy":"idaEVolta"},domProps:{value:t.dataForm.idaEVolta.value}})],1)],1),t._v(" "),e(L.a,{attrs:{dense:""}},[e("div",{},[e(n.a,{attrs:{type:"button",color:"transparent","data-cy":"resetForm",small:""},on:{click:function(e){return t.resetarForm()}}},[t._v("\n                Limpar\n                "),e(h.a,{attrs:{right:""}},[t._v("mdi-trash-can")])],1),t._v(" "),e(n.a,{attrs:{type:"submit",id:"btnSubmitForm","data-cy":"SubmitForm",color:"success",disabled:!t.dataFormIsValid}},[t._v("\n                Enviar\n                "),e(h.a,{attrs:{right:""}},[t._v("mdi-send")])],1)],1)])],1)],1)],1)],1)],1)}),[],!1,null,"090f31b8",null);e.default=component.exports}}]);