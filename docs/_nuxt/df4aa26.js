(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{443:function(e,t,o){var content=o(468);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(33).default)("58a418d8",content,!0,{sourceMap:!1})},467:function(e,t,o){"use strict";o(443)},468:function(e,t,o){var r=o(32)((function(i){return i[1]}));r.push([e.i,".cor-tertiary[data-v-4218e4d4]{background-color:#f8f9fa}p[data-v-4218e4d4]{margin-bottom:.2rem}",""]),r.locals={},e.exports=r},481:function(e,t,o){"use strict";o.r(t);var r,l=o(487),d=o(427),n=o(194),m=o(60),c=o(484),v=o(438),_=o(440),F=o(480),h=o(426),f=o(293),C=o(196),L=o(437),V=o(482),k=o(478),y=o(479),I=(o(35),o(20)),w=(o(85),o(34),o(70),o(23),o(53),function(e){var t=!0,o="",r=parseFloat(e.replace(",","."));return isNaN(r)&&(t=!1,o="Insira uma coordenada numérica."),r<-90&&(t=!1,o="A latitude não pode ser menor do que -90"),r>90&&(t=!1,o="A latitude não pode ser maior do que 90"),{state:t,message:o,valueClear:t?r:null}}),A=function(e){var t=!0,o="",r=parseFloat(e.replace(",","."));return isNaN(r)&&(t=!1,o="Insira uma coordenada numérica."),r<-180&&(t=!1,o="A longitude não pode ser menor do que -180"),r>180&&(t=!1,o="A longitude não pode ser maior do que 180"),{state:t,message:o,valueClear:t?r:null}},x=function(e){var t=!0,o="",r=parseFloat(e.replace(",","."));return isNaN(r)&&(t=!1,o="Insira um valor numérico."),r<=0&&(t=!1,o="Insira um valor maior que zero."),{state:t,message:o,valueClear:t?r:null}},S={name:"Index",data:function(){return{displayAlert:!1,alertTimeout:100,alertTimeoutIntervId:null,alertColor:"success",messageAlert:"Aguardando menssagem...",dados_viajem:{distancia:"dist",vias_da_rota:"vias_da_rota",consumo_total_de_combustivel:"consumo_total_de_combustivel"},dataFormIsValid:!1,dataForm:{origemLatitude:{value:"",mess:"",status:null},origemLongitude:{value:"",mess:"",status:null},destinoLatitude:{value:"",mess:"",status:null},destinoLongitude:{value:"",mess:"",status:null},mediaConsumoVeiculo:{value:"",mess:"",status:null},idaEVolta:{value:!1,mess:"",status:null}},dataFormDefault:{origemLatitude:{value:"",mess:"",status:null},origemLongitude:{value:"",mess:"",status:null},destinoLatitude:{value:"",mess:"",status:null},destinoLongitude:{value:"",mess:"",status:null},mediaConsumoVeiculo:{value:"",mess:"",status:null},idaEVolta:{value:!1,mess:"",status:null}},showRelatorioViagem:!1,relatorioViagem:{consumo_total_de_combustivel:"",distancia_km:"",vias_da_rota:[],ida_e_volta:null,geometry:""},dataFormSnakeCase:{origem_latitude:null,origem_longitude:null,destino_latitude:null,destino_longitude:null,media_consumo_veiculo:null,ida_e_volta:!1},imageUrl:"https://img.freepik.com/vetores-premium/ilustracao-do-mapa-da-cidade-para-o-aplicativo-de-navegacao_8276-371.jpg?w=400"}},methods:{attribImageInit:function(){this.imageUrl="https://img.freepik.com/vetores-premium/ilustracao-do-mapa-da-cidade-para-o-aplicativo-de-navegacao_8276-371.jpg?w=400"},getUrlBackend:function(){return"https://match-calc-combustivel.vercel.app"},changeUrlImagemDestino:function(){var e=this.getUrlBackend(),t="origem_longitude=".concat(this.dataFormSnakeCase.origem_longitude),o="origem_latitude=".concat(this.dataFormSnakeCase.origem_latitude),r="destino_latitude=".concat(this.dataFormSnakeCase.destino_latitude),l="destino_longitude=".concat(this.dataFormSnakeCase.destino_longitude),d="geometry=".concat(this.relatorioViagem.geometry);this.imageUrl="".concat(e,"/destino_imagem?").concat(d,"&").concat(t,"&").concat(o,"&").concat(r,"&").concat(l)},submeterFormViagem:(r=Object(I.a)(regeneratorRuntime.mark((function e(){var t,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.attribImageInit(),t=this.getUrlBackend(),e.next=5,this.$axios.post(t+"/viagem",this.dataFormSnakeCase).then((function(e){200===e.status&&(o.relatorioViagem=e.data,o.showRelatorioViagem=!0,o.messageAlert="Relatório de Viagem recebido com sucesso.",o.alertColor="success",o.showAlert(),o.changeUrlImagemDestino())})).catch((function(e){console.log(e),e.response.data.detail?o.messageAlert=e.response.data.detail:e.response?o.messageAlert="Erro ".concat(e.response.status):o.messageAlert=e,o.alertColor="error",o.showAlert()}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)}),resetarForm:function(){this.dataForm=Object.assign({},this.dataFormDefault)},showAlert:function(){this.displayAlert=!0},validarForm:function(){return this.dataForm.origemLatitude.status&&this.dataForm.origemLongitude.status&&this.dataForm.destinoLatitude.status&&this.dataForm.destinoLongitude.status&&this.dataForm.mediaConsumoVeiculo.status},validarField:function(e,t,o,r){var l=t(e);return o.status=l.state,o.mess=l.message,this.dataFormIsValid=this.validarForm(),l},alertRunTimeout:function(e){var t=this,o=e/30;this.alertTimeoutIntervId||(this.alertTimeoutIntervId=setInterval((function(){t.alertTimeout=t.alertTimeout-3.3333333333333335}),o))},alertClose:function(){this.displayAlert=!1,clearInterval(this.alertTimeoutIntervId),this.alertTimeoutIntervId=null}},watch:{displayAlert:function(e){var t=this;e&&(this.alertRunTimeout(4e3),setTimeout((function(){t.alertClose()}),4e3))},"dataForm.origemLatitude.value":function(e){var t=this.validarField(e,w,this.dataForm.origemLatitude);this.dataFormSnakeCase.origem_latitude=t.valueClear},"dataForm.origemLongitude.value":function(e){var t=this.validarField(e,A,this.dataForm.origemLongitude);this.dataFormSnakeCase.origem_longitude=t.valueClear},"dataForm.destinoLatitude.value":function(e){var t=this.validarField(e,w,this.dataForm.destinoLatitude);this.dataFormSnakeCase.destino_latitude=t.valueClear},"dataForm.destinoLongitude.value":function(e){var t=this.validarField(e,A,this.dataForm.destinoLongitude);this.dataFormSnakeCase.destino_longitude=t.valueClear},"dataForm.mediaConsumoVeiculo.value":function(e){var t=this.validarField(e,x,this.dataForm.mediaConsumoVeiculo);this.dataFormSnakeCase.media_consumo_veiculo=t.valueClear},"dataForm.idaEVolta.value":function(e){this.dataFormSnakeCase.ida_e_volta=e}}},T=S,E=(o(467),o(69)),component=Object(E.a)(T,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"cor-tertiary w-100"},[t(_.a,{staticStyle:{"max-width":"1185px"}},[t(l.a,{attrs:{value:e.displayAlert,dismissible:"",color:e.alertColor,text:"",outlined:"",dense:""}},[e._v("\n      "+e._s(e.messageAlert)+"\n  "),t(C.a,{attrs:{color:"grey",value:e.alertTimeout,reverse:""}})],1),e._v(" "),t(L.a,{staticClass:"g-5"},[t(v.a,{attrs:{sm:"12",md:"5"}},[t(n.a,[e.showRelatorioViagem?t("div",[t(m.b,{attrs:{"data-cy":"reportCard"}},[e.relatorioViagem.ida_e_volta?t("h2",{staticClass:"mb-3"},[e._v("Para a viagem de ida e volta temos:")]):t("h2",{staticClass:"mb-3"},[e._v("Para apenas a viagem de ida:")]),e._v(" "),t("h3",{staticClass:"mb-1"},[t("b",[e._v("Combustível necessário:")]),e._v(" "+e._s(e.relatorioViagem.consumo_total_de_combustivel)+" litros")]),e._v(" "),t("p",[t("b",[e._v("Distância:")]),e._v(" "+e._s(e.relatorioViagem.distancia_km)+" Km")]),e._v(" "),t("p",[t("b",[e._v("Principais vias da rota:")])]),e._v(" "),t(k.a,{attrs:{"align-top":"",dense:""}},e._l(e.relatorioViagem.vias_da_rota,(function(o,r){return t(y.a,{key:r,attrs:{small:"",color:"origem"===o.type?"pink":"destino"===o.type?"green":"blue"}},[t(L.a,{staticClass:"pt-1"},[t(v.a,[e._v(e._s(o.name))])],1)],1)})),1)],1)],1):t(m.b,{staticClass:"card-text"},[e._v("\n            Calcula a quantidade de combustível necessária para percorrer uma determinada distância\n            entre dois pontos, levando em consideração o consumo estimado do veículo.\n          ")]),e._v(" "),t(f.a,{attrs:{width:"470",height:"300",src:e.imageUrl}})],1)],1),e._v(" "),t(v.a,{attrs:{sm:"12",md:"7"}},[t("h4",{staticClass:"mb-3"},[e._v("Informe os dados da viagem")]),e._v(" "),t(F.a,{attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submeterFormViagem.apply(null,arguments)},reset:e.resetarForm}},[t(L.a,{attrs:{dense:""}},[t(v.a,{staticClass:"col-12 col-md-12 col-lg-4"},[t("label",{attrs:{for:"origemLatitude"}},[e._v("Coordenadas da origem:")])]),e._v(" "),t(v.a,{staticClass:"col-12 col-md-6 col-lg-4"},[t(V.a,{attrs:{label:"Latitude da Origem",id:"origemLatitude",dense:"","error-messages":e.dataForm.origemLatitude.mess,error:e.dataForm.origemLatitude.state},model:{value:e.dataForm.origemLatitude.value,callback:function(t){e.$set(e.dataForm.origemLatitude,"value",t)},expression:"dataForm.origemLatitude.value"}})],1),e._v(" "),t(v.a,{staticClass:"col-12 col-md-6 col-lg-4"},[t(V.a,{attrs:{label:"Longitude da Origem",id:"origemLongitude",dense:"","error-messages":e.dataForm.origemLongitude.mess,error:e.dataForm.origemLongitude.state},model:{value:e.dataForm.origemLongitude.value,callback:function(t){e.$set(e.dataForm.origemLongitude,"value",t)},expression:"dataForm.origemLongitude.value"}})],1)],1),e._v(" "),t(L.a,{attrs:{dense:""}},[t(v.a,{staticClass:"col-12 col-md-12 col-lg-4"},[t("label",{attrs:{for:"destinoLatitude"}},[e._v("Coordenadas do destino:")])]),e._v(" "),t(v.a,{staticClass:"col-12 col-md-6 col-lg-4"},[t(V.a,{attrs:{label:"Latitude do Destino",id:"destinoLatitude",dense:"","error-messages":e.dataForm.destinoLatitude.mess,error:e.dataForm.destinoLatitude.state},model:{value:e.dataForm.destinoLatitude.value,callback:function(t){e.$set(e.dataForm.destinoLatitude,"value",t)},expression:"dataForm.destinoLatitude.value"}})],1),e._v(" "),t(v.a,{staticClass:"col-12 col-md-6 col-lg-4"},[t(V.a,{attrs:{label:"Longitude do Destino",id:"destinoLongitude",dense:"","error-messages":e.dataForm.destinoLongitude.mess,error:e.dataForm.destinoLongitude.state},model:{value:e.dataForm.destinoLongitude.value,callback:function(t){e.$set(e.dataForm.destinoLongitude,"value",t)},expression:"dataForm.destinoLongitude.value"}})],1)],1),e._v(" "),t(L.a,{attrs:{dense:""}},[t(v.a,{staticClass:"col-12 col-sm-12 col-md-6"},[t("label",{attrs:{for:"mediaConsumoVeiculo"}},[e._v("Média de consumo do veículo:")]),e._v(" "),t(V.a,{attrs:{id:"mediaConsumoVeiculo",dense:"",type:"number","error-messages":e.dataForm.mediaConsumoVeiculo.mess,error:e.dataForm.mediaConsumoVeiculo.state},model:{value:e.dataForm.mediaConsumoVeiculo.value,callback:function(t){e.$set(e.dataForm.mediaConsumoVeiculo,"value",t)},expression:"dataForm.mediaConsumoVeiculo.value"}})],1),e._v(" "),t(v.a,{staticClass:"col-12 col-sm-12 col-md-4"},[t(c.a,{attrs:{id:"idaEVolta",label:"Calcular ida e volta"},model:{value:e.dataForm.idaEVolta.value,callback:function(t){e.$set(e.dataForm.idaEVolta,"value",t)},expression:"dataForm.idaEVolta.value"}}),e._v(" "),t("input",{attrs:{type:"hidden","data-cy":"idaEVolta"},domProps:{value:e.dataForm.idaEVolta.value}})],1)],1),e._v(" "),t(L.a,{attrs:{dense:""}},[t("div",{},[t(d.a,{attrs:{type:"button",color:"secundary","data-cy":"resetForm"},on:{click:function(t){return e.resetarForm()}}},[e._v("\n                Limpar\n                "),t(h.a,{attrs:{right:""}},[e._v("mdi-trash-can")])],1),e._v(" "),t(d.a,{attrs:{type:"submit",id:"btnSubmitForm","data-cy":"SubmitForm",color:"success",disabled:!e.dataFormIsValid}},[e._v("\n                Enviar\n                "),t(h.a,{attrs:{right:""}},[e._v("mdi-send")])],1)],1)])],1)],1)],1)],1)],1)}),[],!1,null,"4218e4d4",null);t.default=component.exports}}]);